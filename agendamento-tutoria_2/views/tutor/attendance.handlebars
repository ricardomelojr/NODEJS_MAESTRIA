<html lang='pt-br'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>{{title}}</title>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/tailwindcss@2.0.0/dist/tailwind.min.css' />
  </head>
  <body class='bg-gray-100'>
    <div class='container mx-auto p-4'>
      <h1 class='text-3xl font-bold mb-6 text-center text-gray-800'>Gerenciar Presença</h1>

      <form id='attendanceForm'>
        <!-- Campo oculto para armazenar o idAvailability -->
        <input type='hidden' id='idAvailability' value='{{idAvailability}}' />

        <div class='mb-4'>
          <label for='attendanceDate' class='block text-gray-700 font-semibold mb-2'>Data da Sessão:</label>
          <input
            type='date'
            id='attendanceDate'
            name='attendanceDate'
            class='border border-gray-300 rounded-lg p-2 w-full'
            value='{{currentDate}}'
            required
          />
        </div>

        {{#if students.length}}
          <table class='min-w-full bg-white border border-gray-200 rounded-lg shadow-md text-center'>
            <thead class='bg-gray-200'>
              <tr>
                <th class='py-3 px-6 border-b text-gray-700 font-semibold'>Nome do Aluno</th>
                <th class='py-3 px-6 border-b text-gray-700 font-semibold'>Presença</th>
              </tr>
            </thead>
            <tbody>
              {{#each students}}
                <tr class='hover:bg-gray-100 transition duration-200'>
                  <td class='py-3 px-6 border-b text-gray-800'>{{this.name}}</td>
                  <td class='py-3 px-6 border-b text-gray-800'>
                    <label class='mr-4'>
                      <input type='radio' name='attendance_{{this.idUser}}' value='presente' required />
                      Presente
                    </label>
                    <label>
                      <input type='radio' name='attendance_{{this.idUser}}' value='ausente' required />
                      Ausente
                    </label>
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>

          <div class='flex justify-center mt-6'>
            <button type='submit' class='bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg'>
              Salvar Lista de Presença
            </button>
          </div>
        {{else}}
          <p class='text-gray-500 text-center mt-4'>Nenhum aluno disponível para marcar presença nesta sessão.</p>
        {{/if}}
      </form>
    </div>

    <!-- Incluir o arquivo JavaScript externo -->
    <script src='/js/attendance.js'></script>
  </body>
</html>